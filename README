# ğŸš¨ SafeYard API

**SafeYard** Ã© uma API REST desenvolvida em Java com Spring Boot para gerenciar a **entrada, saÃ­da, locaÃ§Ã£o e controle de motos** em um pÃ¡tio. O projeto foi construÃ­do com base nos padrÃµes de arquitetura utilizados em aula, incluindo boas prÃ¡ticas de validaÃ§Ã£o, DTOs, tratamento global de erros, filtros dinÃ¢micos e autenticaÃ§Ã£o via JWT.

---

## ğŸ› ï¸ Tecnologias Utilizadas

- Java 17
- Spring Boot 3.4.3
- Maven
- Spring Web
- Spring Data JPA
- Bean Validation
- H2 Database (memÃ³ria)
- Lombok
- Swagger (SpringDoc OpenAPI)
- Spring Security + JWT (Auth0)
- DevTools
- Cache (pronto para uso futuro)

---

## ğŸ”§ PrÃ©-requisitos

- Java 17
- Maven

---

## ğŸ—‚ï¸ Funcionalidades

### âœ… Cadastro e Gerenciamento de:
- **Motos** (`/api/motos`)
- **Clientes** (`/api/clientes`)
- **LocaÃ§Ãµes** (`/api/locacoes`)
- **Entradas e saÃ­das no pÃ¡tio** (`/api/registros`)

### âœ… AutenticaÃ§Ã£o JWT:
- **Login** de usuÃ¡rios
- **GeraÃ§Ã£o de token JWT**
- **ProteÃ§Ã£o de rotas** privadas
- **ValidaÃ§Ã£o automÃ¡tica de token** via filtro

> ğŸ“Œ O token deve ser informado no header `Authorization: Bearer <token>` para acessar os endpoints protegidos.

### âœ… Filtros disponÃ­veis:
- ğŸ“† LocaÃ§Ã£o por cliente, moto, perÃ­odo de saÃ­da/devoluÃ§Ã£o
- ğŸ“ Registros por moto, tipo (`entrada/saida`) e perÃ­odo

---

## ğŸ§  Cache com Spring

A API estÃ¡ preparada para uso de **cache automatizado**, melhorando a performance de consultas em endpoints com filtros dinÃ¢micos.

### ğŸ”„ Endpoints com cache habilitado:
- ğŸ” `GET /api/motos`
- ğŸ” `GET /api/clientes`
- ğŸ” `GET /api/locacoes` (com filtros por perÃ­odo, cliente e moto)
- ğŸ” `GET /api/registros` (com filtros por perÃ­odo, tipo e moto)

> O cache Ã© limpo automaticamente em operaÃ§Ãµes de `POST`, `PUT` e `DELETE` para garantir consistÃªncia dos dados.

---

### ğŸ” Login e geraÃ§Ã£o de token:
```bash
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@email.com","senha":"123456"}'

ğŸ“„ Buscar todas as motos:
curl -H "Authorization: Bearer SEU_TOKEN_JWT" http://localhost:8080/api/motos

ğŸ” Buscar locaÃ§Ãµes por cliente e perÃ­odo:
curl -G http://localhost:8080/api/locacoes \
  --data-urlencode "clienteId=1" \
  --data-urlencode "inicio=2025-05-01T00:00:00" \
  --data-urlencode "fim=2025-05-31T23:59:59" \
  -H "Authorization: Bearer SEU_TOKEN_JWT"





## â–¶ï¸ Executar localmente

```bash
# Clonar o repositÃ³rio
git clone https://github.com/ThamiresRC/SafeYardApi

# Entrar na pasta
cd safeyard-api

# Executar o projeto
./mvnw spring-boot:run

---

## ğŸ³ Executar via Docker (sem clonar o projeto)

VocÃª pode rodar a aplicaÃ§Ã£o diretamente com:

```bash
docker run -p 8080:8080 thamiresrc/safeyard-api



ğŸ‘¨â€ğŸ’» Desenvolvedores

Thamires Ribeiro Cruz           RM558128 github.com/ThamiresRC
Adonay Rodrigues da Rocha       RM558782 github.com/AdonayRocha
Pedro Henrique Martins dos Reis RM555306 github.com/pxxmdr